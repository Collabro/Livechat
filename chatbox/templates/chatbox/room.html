{% load static %}
<!DOCTYPE html>
<html>
<head>
<!-- <script src='//production-assets.codepen.io/assets/editor/live/console_runner-079c09a0e3b9ff743e39ee2d5637b9216b3545af0de366d4b9aad9dc87e26bfd.js'></script>
<script src='//production-assets.codepen.io/assets/editor/live/events_runner-73716630c22bbc8cff4bd0f07b135f00a0bdc5d14629260c3ec49e5606f98fdd.js'></script>
<script src='//production-assets.codepen.io/assets/editor/live/css_live_reload_init-2c0dc5167d60a5af3ee189d570b1835129687ea2a61bee3513dee3a50c115a77.js'></script> -->
<meta charset='UTF-8'><meta name="robots" content="noindex">
<link rel="shortcut icon" type="image/x-icon" href="//production-assets.codepen.io/assets/favicon/favicon-8ea04875e70c4b0bb41da869e81236e54394d63638a1ef12fa558a4a835f1164.ico" />
<link rel="mask-icon" type="" href="//production-assets.codepen.io/assets/favicon/logo-pin-f2d2b6d2c61838f7e76325261b7195c27224080bc099486ddd6dccb469b8e8e6.svg" color="#111" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,300' rel='stylesheet' type='text/css'>

<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>


<script src="https://use.typekit.net/hoy3lrg.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>
<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css'><link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>
<link rel="stylesheet" href="{% static 'chatbox/home.css' %}">

</head>

<body>
<div id="frame">
	<div id="sidepanel">
		<div id="profile">
			<div class="wrap">
				<img id="profile-img" src="data:image/jpeg;base64,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" class="online" alt="" />
				<p>{{username}}</p>
				<i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
				<div id="status-options">
					<ul>
						<li id="status-online" class="active"><span class="status-circle"></span> <p>Online</p></li>
						<li id="status-away"><span class="status-circle"></span> <p>Away</p></li>
						<li id="status-busy"><span class="status-circle"></span> <p>Busy</p></li>
						<li id="status-offline"><span class="status-circle"></span> <p>Offline</p></li>
					</ul>
				</div>
				<div id="expanded">
					<label for="twitter"><i class="fa fa-facebook fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="mikeross" />
					<label for="twitter"><i class="fa fa-twitter fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="ross81" />
					<label for="twitter"><i class="fa fa-instagram fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="mike.ross" />
				</div>
			</div>
		</div>
		<div id="search">
			<label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
			<input type="text" placeholder="Search contacts..." />
		</div>
		<div id="contacts">
			<ul>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status busy"></span>
						<img src="https://avatars1.githubusercontent.com/u/54318429?s=460&u=0c163fa9dbc36e744828654e16820572af21af39&v=4" alt="" />
						<div class="meta">
							<p class="name">Anurag</p>
							<p class="preview">Sab Badiya?</p>
						</div>
					</div>
				</li>
				<li class="contact active">
					<div class="wrap">
						<span class="contact-status online"></span>
						<img src="https://avatars3.githubusercontent.com/u/57450747?s=460&u=bc2b88fb60535f383d079ea3d408f384b3a2c30e&v=4" alt="" />
						<div class="meta">
							<p class="name">Aparna</p>
							<p class="preview"></p>
						</div>
					</div>
				</li>
			</ul>
		</div>
		<div id="bottom-bar">
			<button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span>Add contact</span></button>
			<button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span>Settings</span></button>
		</div>
	</div>
	<div class="content">
		<div class="contact-profile">
			<img src="data:image/jpeg;base64,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" alt="" />
			<p>{{ username }}</p>
			<div class="social-media">
				<i class="fa fa-facebook" aria-hidden="true"></i>
				<i class="fa fa-twitter" aria-hidden="true"></i>
				 <i class="fa fa-instagram" aria-hidden="true"></i>
			</div>
		</div>
		<div class="messages">
			<ul id='chat-log'>
				<li class="sent">
					<img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
					<p>How the hell am I supposed to get a jury to believe you when I am not even sure that I do?!</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>When you're backed against the wall, break the god damn thing down.</p>
				</li>
			</ul>
		</div>
		<div class="message-input">
			<div class="wrap">
			<input id='chat-message-input' type="text" placeholder="Write your message..." />
			<i class="fa fa-paperclip attachment" aria-hidden="true"></i>
			<button id='chat-message-submit' class="submit"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
			</div>
		</div>
	</div>
</div>


<script src="{% static 'chatbox/home.js' %}"></script>
<script src="{% static 'chatbox/reconnecting-websocket.js' %}"></script>
<!-- <script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script><script src='https://code.jquery.com/jquery-2.2.4.min.js'></script> -->

<script>
	var roomName = {{ room_name_json }};
 	var username = {{ username }};

 	var chatSocket = new ReconnectingWebSocket(
            'ws://'
            + window.location.host
            + '/ws/chat/'
            + roomName
            + '/'
        );

        chatSocket.onmessage = function(e) {
            var data = JSON.parse(e.data);
            // document.querySelector('#chat-log').value += (data.message + '\n');
            var message = data['message'];
            var author = message['author'];
            var msgListTag = document.createElement('li');
            var imgTag = document.createElement('img');
			var pTag = document.createElement('p');
			// console.log(message);
            pTag.textContent = message.content;
            imgTag.src = 'https://avatars1.githubusercontent.com/u/54318429?s=460&u=0c163fa9dbc36e744828654e16820572af21af39&v=4'

			console.log(author);
			console.log(username);
            if(author === username){
              msgListTag.className = "replies";
            }
            else{
              msgListTag.className = "sent";
            }
            msgListTag.appendChild(imgTag);
            msgListTag.appendChild(pTag);
            document.querySelector('#chat-log').appendChild(msgListTag);

        };

        chatSocket.onclose = function(e) {
            console.error('Chat socket closed unexpectedly');
        };

        document.querySelector('#chat-message-input').focus();
        document.querySelector('#chat-message-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#chat-message-submit').click();
            }
        };

        document.querySelector('#chat-message-submit').onclick = function(e) {
            const messageInputDom = document.querySelector('#chat-message-input');
            const message = messageInputDom.value;
            chatSocket.send(JSON.stringify({
                'command': 'new_message',
                'message': message,
                'from': username,
            }));
            messageInputDom.value = '';
        };

</script>


</body>
</html>